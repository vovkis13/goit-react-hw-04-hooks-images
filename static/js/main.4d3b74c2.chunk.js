(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={overlay:"Modal_overlay__2QrOd",modal:"Modal_modal__1WHu9",image:"Modal_image__I6RHE"}},21:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__3V297",image:"ImageGalleryItem_image__2N_5S"}},22:function(e,t,a){e.exports={Link:"Button_Link__3Szju",button:"Button_button__24wQC"}},23:function(e,t,a){e.exports={app:"App_app__G61W1",loaderWrapper:"App_loaderWrapper__wwMDH"}},37:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1Rkx0"}},8:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3vK5F",searchForm:"Searchbar_searchForm__2KIIl",button:"Searchbar_button__3j2yy",input:"Searchbar_input__41U4Q"}},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=a(24),s=a(5),u=a.n(s),l=a(7),b=a(4),p=a(36),m=a.n(p),j=(a(65),a(66)),d="https://pixabay.com/api/",h="23902018-2ad96957ecb94a5813d6bfdc3",f="photo",g="horizontal";function _(e,t){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("".concat(d,"?q=").concat(t,"&page=").concat(a,"&key=").concat(h,"&image_type=").concat(f,"&orientation=").concat(g,"&per_page=").concat(12));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var x=a(39),v=a(8),y=a.n(v),k=a(1);function w(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(k.jsx)("header",{className:y.a.searchbar,children:Object(k.jsxs)("form",{className:y.a.searchForm,onSubmit:t,children:[Object(k.jsx)("button",{className:y.a.button,type:"submit",children:Object(k.jsx)(x.a,{})}),Object(k.jsx)("input",{className:y.a.input,name:"query",value:c,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){return o(e.target.value)}})]})})}var S=a(21),N=a.n(S);function I(e){var t=e.image,a=e.onMaximize,n=t.id,r=t.webformatURL,c=t.largeImageURL,o=t.tags;return Object(k.jsx)("li",{className:N.a.galleryItem,children:Object(k.jsx)("img",{className:N.a.image,id:n,src:r,alt:o,onClick:a,"data-large":c})})}var M=a(37),L=a.n(M);function C(e){var t=e.collection,a=e.onMaximize;return Object(k.jsx)("ul",{className:L.a.imageGallery,children:t.map((function(e){return Object(k.jsx)(I,{image:e,onMaximize:a},e.id)}))})}var F=a(38),G=a(22),R=a.n(G);function z(e){var t=e.handleClick;return Object(k.jsx)(F.Link,{className:R.a.Link,activeClass:"active",to:"loadMoreButton",smooth:!0,duration:500,children:Object(k.jsx)("button",{className:R.a.button,type:"button",onClick:t,id:"loadMoreButton",children:"Load more"})})}var B=a(15),E=a.n(B);function U(e){var t=e.imageURL,a=e.forAlt,r=e.closeModal,c=function(e){return"Escape"===e.code&&r()};return Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}})),Object(k.jsx)("div",{className:E.a.overlay,onClick:r,children:Object(k.jsx)("div",{className:E.a.modal,children:Object(k.jsx)("img",{className:E.a.image,src:t,alt:"large "+a})})})}var W=a(23),A=a.n(W);function D(){var e=Object(n.useState)(1),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(b.a)(c,2),s=o[0],p=o[1],j=Object(n.useState)(0),d=Object(b.a)(j,2),h=d[0],f=d[1],g=Object(n.useState)([]),O=Object(b.a)(g,2),x=O[0],v=O[1],y=Object(n.useState)(!1),S=Object(b.a)(y,2),N=S[0],I=S[1],M=Object(n.useState)(""),L=Object(b.a)(M,2),F=L[0],G=L[1],R=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target[1].value){e.next=5;break}return v([]),e.abrupt("return");case 5:return I(!0),e.next=8,_(a,1);case 8:n=e.sent,r(1),f(n.total),p(a),v(n.hits),I(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(!0),e.next=4,_(s,a+1);case 4:n=e.sent,r((function(e){return e+1})),v((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n.hits))})),I(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:A.a.app,children:[Object(k.jsx)(w,{onSubmit:R}),Object(k.jsx)(C,{collection:x,onMaximize:function(e){return G(e.target.dataset.large)}}),N&&Object(k.jsx)("div",{className:A.a.loaderWrapper,children:Object(k.jsx)(m.a,{type:"Rings",color:"#00BFFF",height:120,width:120})}),!N&&x.length>0&&h>x.length&&Object(k.jsx)(z,{handleClick:B}),F&&Object(k.jsx)(U,{imageURL:F,forAlt:s,closeModal:function(){return G("")}})]})}a(94);o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(D,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.4d3b74c2.chunk.js.map